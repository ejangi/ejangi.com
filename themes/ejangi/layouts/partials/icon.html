{{ if .Page.Params.Icon }}
{{ $iconUrl := "" }}
{{ $image := .Page.Resources.GetMatch (printf "*%s" .Page.Params.Icon) }}
{{ if $image }}
    {{ $iconUrl = $image.RelPermalink | absURL }}
{{ else }}
    {{ $iconUrl = .Page.Params.Icon | absURL }}
{{ end }}
<img src="{{ $iconUrl }}" class="icon">
{{ end }}